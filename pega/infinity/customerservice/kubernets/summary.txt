/ * Reference Links link */
https://github.com/kodekloudhub/certified-kubernetes-administrator-course
https://minikube.sigs.k8s.io/docs/start/
https://github.com/kubernetes

/* Installation Commands */
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-arm64
sudo install minikube-darwin-arm64 /usr/local/bin/minikube

minikube start
üòÑ  minikube v1.31.2 on Darwin 13.6 (arm64)
‚ú®  Automatically selected the docker driver
üìå  Using Docker Desktop driver with root privileges
üëç  Starting control plane node minikube in cluster minikube
üöú  Pulling base image ...
üíæ  Downloading Kubernetes v1.27.4 preload ...
    > preloaded-images-k8s-v18-v1...:  327.74 MiB / 327.74 MiB  100.00% 34.79 M
    > gcr.io/k8s-minikube/kicbase...:  404.50 MiB / 404.50 MiB  100.00% 22.29 M
üî•  Creating docker container (CPUs=2, Memory=4000MB) ...
üê≥  Preparing Kubernetes v1.27.4 on Docker 24.0.4 ...
    ‚ñ™ Generating certificates and keys ...
    ‚ñ™ Booting up control plane ...
    ‚ñ™ Configuring RBAC rules ...
üîó  Configuring bridge CNI (Container Networking Interface) ...
üîé  Verifying Kubernetes components...
    ‚ñ™ Using image gcr.io/k8s-minikube/storage-provisioner:v5
üåü  Enabled addons: storage-provisioner, default-storageclass
üèÑ  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default


kubectl get po -A
minikube kubectl -- get po -A
NAMESPACE              NAME                                         READY   STATUS    RESTARTS        AGE
kube-system            coredns-5d78c9869d-4zg6n                     1/1     Running   0               3m28s
kube-system            etcd-minikube                                1/1     Running   0               3m42s
kube-system            kube-apiserver-minikube                      1/1     Running   0               3m42s
kube-system            kube-controller-manager-minikube             1/1     Running   0               3m42s
kube-system            kube-proxy-cbr9z                             1/1     Running   0               3m29s
kube-system            kube-scheduler-minikube                      1/1     Running   0               3m42s
kube-system            storage-provisioner                          1/1     Running   1 (2m58s ago)   3m41s
kubernetes-dashboard   dashboard-metrics-scraper-5dd9cbfd69-g9jcz   1/1     Running   0               87s
kubernetes-dashboard   kubernetes-dashboard-5c5cfc8747-9942m        1/1     Running   0               87s

kubectl get pods --namespace kube-system
NAME                               READY   STATUS    RESTARTS      AGE
coredns-5d78c9869d-4zg6n           1/1     Running   0             18m
etcd-minikube                      1/1     Running   0             18m
kube-apiserver-minikube            1/1     Running   0             18m
kube-controller-manager-minikube   1/1     Running   0             18m
kube-proxy-cbr9z                   1/1     Running   0             18m
kube-scheduler-minikube            1/1     Running   0             18m
storage-provisioner                1/1     Running   1 (17m ago)   18m

kubectl get pods --namespace default
No resources found in default namespace.

minikube dashboard
http://127.0.0.1:64572/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/#/ingress?namespace=default

/* Kubernets Architecture */
Node 
Cluster
Components
 - API Server
 - etcd service
 - kubectl service
 - Container Runtime
 - Controller
 - Scheduler

/* Kubectl commands */
kubectl run hello-minikube
error: required flag(s) "image" not set

kubectl cluster-info
Kubernetes control plane is running at https://127.0.0.1:64506
CoreDNS is running at https://127.0.0.1:64506/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

kubectl get nodes
NAME       STATUS   ROLES           AGE   VERSION
minikube   Ready    control-plane   31m   v1.27.4

Container Runtime Interface ( CRI )
Open Container Initiative
 - imagespec
 - runtimespec
 - dockershim
   - CLI
   - API
   - Build
   - Volumes
   - Auth
   - Security

/* Container D installation */
https://github.com/containerd/containerd/blob/main/docs/getting-started.md
/* nerdctl docker compatible */
https://github.com/containerd/nerdctl
/* crictl */

/* kubectl describe command */
kubectl describe pod my-app
Name:             my-app
Namespace:        default
Priority:         0
Service Account:  default
Node:             minikube/192.168.49.2
Start Time:       Sun, 01 Oct 2023 00:43:20 -0500
Labels:           app=my-app
                  type=front-end
Annotations:      <none>
Status:           Running
IP:               10.244.0.5
IPs:
  IP:  10.244.0.5
Containers:
  nginx-container:
    Container ID:   docker://0a666b01a3bf5be3021e0cf121e9158160134ed1d4aaef72e43c1a612cabe8e9
    Image:          nginx
    Image ID:       docker-pullable://nginx@sha256:32da30332506740a2f7c34d5dc70467b7f14ec67d912703568daff790ab3f755
    Port:           <none>
    Host Port:      <none>
    State:          Running
      Started:      Sun, 01 Oct 2023 00:43:26 -0500
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-rcg5w (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  kube-api-access-rcg5w:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age    From               Message
  ----    ------     ----   ----               -------
  Normal  Scheduled  2m27s  default-scheduler  Successfully assigned default/my-app to minikube
  Normal  Pulling    2m26s  kubelet            Pulling image "nginx"
  Normal  Pulled     2m21s  kubelet            Successfully pulled image "nginx" in 5.069936628s (5.069942711s including waiting)
  Normal  Created    2m21s  kubelet            Created container nginx-container
  Normal  Started    2m21s  kubelet            Started container nginx-container

/* kubectl apply command */
Warning: resource pods/my-app is missing the kubectl.kubernetes.io/last-applied-configuration annotation which is required by kubectl apply. kubectl apply should only be used on resources created declaratively by either kubectl create --save-config or kubectl apply. The missing annotation will be patched automatically.
pod/my-app configured

error: error parsing pod-definition.yml: error converting YAML to JSON: yaml: line 10: found character that cannot start any token
pod/my-app unchanged

/* kubectl describe pod nginx-2 */
Name:             nginx-2
Namespace:        default
Priority:         0
Service Account:  default
Node:             minikube/192.168.49.2
Start Time:       Sun, 01 Oct 2023 09:22:09 -0500
Labels:           env=production
                  name=myapp
Annotations:      <none>
Status:           Running
IP:               10.244.0.6
IPs:
  IP:  10.244.0.6
Containers:
  nginx:
    Container ID:   docker://60b33826dd2742af9656cb4870a05f243baeeddbcf3409c9b0bf121c0f855e67
    Image:          nginx
    Image ID:       docker-pullable://nginx@sha256:32da30332506740a2f7c34d5dc70467b7f14ec67d912703568daff790ab3f755
    Port:           <none>
    Host Port:      <none>
    State:          Running
      Started:      Sun, 01 Oct 2023 09:22:11 -0500
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     500m
      memory:  128Mi
    Requests:
      cpu:        500m
      memory:     128Mi
    Environment:  <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-hnf8p (ro)
  busybox:
    Container ID:   docker://93b0c83258e99dbfbfb896dee513c0406a081175508a689be43e56eff809fd38
    Image:          busybox
    Image ID:       docker-pullable://busybox@sha256:3fbc632167424a6d997e74f52b878d7cc478225cffac6bc977eedfe51c7f4e79
    Port:           <none>
    Host Port:      <none>
    State:          Waiting
      Reason:       CrashLoopBackOff
    Last State:     Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Sun, 01 Oct 2023 09:22:57 -0500
      Finished:     Sun, 01 Oct 2023 09:22:57 -0500
    Ready:          False
    Restart Count:  3
    Limits:
      cpu:     500m
      memory:  128Mi
    Requests:
      cpu:        500m
      memory:     128Mi
    Environment:  <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-hnf8p (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             False 
  ContainersReady   False 
  PodScheduled      True 
Volumes:
  kube-api-access-hnf8p:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Guaranteed
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason     Age                From               Message
  ----     ------     ----               ----               -------
  Normal   Scheduled  82s                default-scheduler  Successfully assigned default/nginx-2 to minikube
  Normal   Pulling    81s                kubelet            Pulling image "nginx"
  Normal   Pulled     81s                kubelet            Successfully pulled image "nginx" in 596.362416ms (596.37875ms including waiting)
  Normal   Created    80s                kubelet            Created container nginx
  Normal   Started    80s                kubelet            Started container nginx
  Normal   Pulled     79s                kubelet            Successfully pulled image "busybox" in 1.541108917s (1.541121543s including waiting)
  Normal   Pulled     78s                kubelet            Successfully pulled image "busybox" in 508.550542ms (508.574417ms including waiting)
  Normal   Pulled     64s                kubelet            Successfully pulled image "busybox" in 551.421833ms (551.449208ms including waiting)
  Normal   Pulling    34s (x4 over 80s)  kubelet            Pulling image "busybox"
  Normal   Created    34s (x4 over 79s)  kubelet            Created container busybox
  Normal   Started    34s (x4 over 79s)  kubelet            Started container busybox
  Normal   Pulled     34s                kubelet            Successfully pulled image "busybox" in 583.069126ms (583.099042ms including waiting)
  Warning  BackOff    33s (x5 over 77s)  kubelet            Back-off restarting failed container busybox in pod nginx-2_default(3c06bc7f-36ce-4b33-ad14-08f9f6fac044)

/* kubectl logs nginx-2 */
Defaulted container "nginx" out of: nginx, busybox
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
/docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete; ready for start up
2023/10/01 14:22:11 [notice] 1#1: using the "epoll" event method
2023/10/01 14:22:11 [notice] 1#1: nginx/1.25.2
2023/10/01 14:22:11 [notice] 1#1: built by gcc 12.2.0 (Debian 12.2.0-14) 
2023/10/01 14:22:11 [notice] 1#1: OS: Linux 6.3.13-linuxkit
2023/10/01 14:22:11 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
2023/10/01 14:22:11 [notice] 1#1: start worker processes
2023/10/01 14:22:11 [notice] 1#1: start worker process 29
2023/10/01 14:22:11 [notice] 1#1: start worker process 30
2023/10/01 14:22:11 [notice] 1#1: start worker process 31
2023/10/01 14:22:11 [notice] 1#1: start worker process 32
2023/10/01 14:22:11 [notice] 1#1: start worker process 33

/* kubectl get deployments */
No resources found in default namespace.
/* kubectl create deployment kubernetes-bootcamp --image=gcr.io/google-samples/kubernetes-bootcamp:v1 */
deployment.apps/kubernetes-bootcamp created
/* kubectl get deployments */
NAME                  READY   UP-TO-DATE   AVAILABLE   AGE
kubernetes-bootcamp   1/1     1            1           8

/* kubectl proxy */
Starting to serve on 127.0.0.1:8001

/* curl http://localhost:8001/version */
{
  "major": "1",
  "minor": "27",
  "gitVersion": "v1.27.4",
  "gitCommit": "fa3d7990104d7c1f16943a67f11b154b71f6a132",
  "gitTreeState": "clean",
  "buildDate": "2023-07-19T12:14:49Z",
  "goVersion": "go1.20.6",
  "compiler": "gc",
  "platform": "linux/arm64"
}
/* http://localhost:8001/ */
{
  "paths": [
    "/.well-known/openid-configuration",
    "/api",
    "/api/v1",
    "/apis",
    "/apis/",
    "/apis/admissionregistration.k8s.io",
    "/apis/admissionregistration.k8s.io/v1",
    "/apis/apiextensions.k8s.io",
    "/apis/apiextensions.k8s.io/v1",
    "/apis/apiregistration.k8s.io",
    "/apis/apiregistration.k8s.io/v1",
    "/apis/apps",
    "/apis/apps/v1",
    "/apis/authentication.k8s.io",
    "/apis/authentication.k8s.io/v1",
    "/apis/authorization.k8s.io",
    "/apis/authorization.k8s.io/v1",
    "/apis/autoscaling",
    "/apis/autoscaling/v1",
    "/apis/autoscaling/v2",
    "/apis/batch",
    "/apis/batch/v1",
    "/apis/certificates.k8s.io",
    "/apis/certificates.k8s.io/v1",
    "/apis/coordination.k8s.io",
    "/apis/coordination.k8s.io/v1",
    "/apis/discovery.k8s.io",
    "/apis/discovery.k8s.io/v1",
    "/apis/events.k8s.io",
    "/apis/events.k8s.io/v1",
    "/apis/flowcontrol.apiserver.k8s.io",
    "/apis/flowcontrol.apiserver.k8s.io/v1beta2",
    "/apis/flowcontrol.apiserver.k8s.io/v1beta3",
    "/apis/networking.k8s.io",
    "/apis/networking.k8s.io/v1",
    "/apis/node.k8s.io",
    "/apis/node.k8s.io/v1",
    "/apis/policy",
    "/apis/policy/v1",
    "/apis/rbac.authorization.k8s.io",
    "/apis/rbac.authorization.k8s.io/v1",
    "/apis/scheduling.k8s.io",
    "/apis/scheduling.k8s.io/v1",
    "/apis/storage.k8s.io",
    "/apis/storage.k8s.io/v1",
    "/healthz",
    "/healthz/autoregister-completion",
    "/healthz/etcd",
    "/healthz/log",
    "/healthz/ping",
    "/healthz/poststarthook/aggregator-reload-proxy-client-cert",
    "/healthz/poststarthook/apiservice-discovery-controller",
    "/healthz/poststarthook/apiservice-openapi-controller",
    "/healthz/poststarthook/apiservice-openapiv3-controller",
    "/healthz/poststarthook/apiservice-registration-controller",
    "/healthz/poststarthook/apiservice-status-available-controller",
    "/healthz/poststarthook/bootstrap-controller",
    "/healthz/poststarthook/crd-informer-synced",
    "/healthz/poststarthook/generic-apiserver-start-informers",
    "/healthz/poststarthook/kube-apiserver-autoregistration",
    "/healthz/poststarthook/priority-and-fairness-config-consumer",
    "/healthz/poststarthook/priority-and-fairness-config-producer",
    "/healthz/poststarthook/priority-and-fairness-filter",
    "/healthz/poststarthook/rbac/bootstrap-roles",
    "/healthz/poststarthook/scheduling/bootstrap-system-priority-classes",
    "/healthz/poststarthook/start-apiextensions-controllers",
    "/healthz/poststarthook/start-apiextensions-informers",
    "/healthz/poststarthook/start-cluster-authentication-info-controller",
    "/healthz/poststarthook/start-deprecated-kube-apiserver-identity-lease-garbage-collector",
    "/healthz/poststarthook/start-kube-aggregator-informers",
    "/healthz/poststarthook/start-kube-apiserver-admission-initializer",
    "/healthz/poststarthook/start-kube-apiserver-identity-lease-controller",
    "/healthz/poststarthook/start-kube-apiserver-identity-lease-garbage-collector",
    "/healthz/poststarthook/start-legacy-token-tracking-controller",
    "/healthz/poststarthook/start-system-namespaces-controller",
    "/healthz/poststarthook/storage-object-count-tracker-hook",
    "/livez",
    "/livez/autoregister-completion",
    "/livez/etcd",
    "/livez/log",
    "/livez/ping",
    "/livez/poststarthook/aggregator-reload-proxy-client-cert",
    "/livez/poststarthook/apiservice-discovery-controller",
    "/livez/poststarthook/apiservice-openapi-controller",
    "/livez/poststarthook/apiservice-openapiv3-controller",
    "/livez/poststarthook/apiservice-registration-controller",
    "/livez/poststarthook/apiservice-status-available-controller",
    "/livez/poststarthook/bootstrap-controller",
    "/livez/poststarthook/crd-informer-synced",
    "/livez/poststarthook/generic-apiserver-start-informers",
    "/livez/poststarthook/kube-apiserver-autoregistration",
    "/livez/poststarthook/priority-and-fairness-config-consumer",
    "/livez/poststarthook/priority-and-fairness-config-producer",
    "/livez/poststarthook/priority-and-fairness-filter",
    "/livez/poststarthook/rbac/bootstrap-roles",
    "/livez/poststarthook/scheduling/bootstrap-system-priority-classes",
    "/livez/poststarthook/start-apiextensions-controllers",
    "/livez/poststarthook/start-apiextensions-informers",
    "/livez/poststarthook/start-cluster-authentication-info-controller",
    "/livez/poststarthook/start-deprecated-kube-apiserver-identity-lease-garbage-collector",
    "/livez/poststarthook/start-kube-aggregator-informers",
    "/livez/poststarthook/start-kube-apiserver-admission-initializer",
    "/livez/poststarthook/start-kube-apiserver-identity-lease-controller",
    "/livez/poststarthook/start-kube-apiserver-identity-lease-garbage-collector",
    "/livez/poststarthook/start-legacy-token-tracking-controller",
    "/livez/poststarthook/start-system-namespaces-controller",
    "/livez/poststarthook/storage-object-count-tracker-hook",
    "/logs",
    "/metrics",
    "/metrics/slis",
    "/openapi/v2",
    "/openapi/v3",
    "/openapi/v3/",
    "/openid/v1/jwks",
    "/readyz",
    "/readyz/autoregister-completion",
    "/readyz/etcd",
    "/readyz/etcd-readiness",
    "/readyz/informer-sync",
    "/readyz/log",
    "/readyz/ping",
    "/readyz/poststarthook/aggregator-reload-proxy-client-cert",
    "/readyz/poststarthook/apiservice-discovery-controller",
    "/readyz/poststarthook/apiservice-openapi-controller",
    "/readyz/poststarthook/apiservice-openapiv3-controller",
    "/readyz/poststarthook/apiservice-registration-controller",
    "/readyz/poststarthook/apiservice-status-available-controller",
    "/readyz/poststarthook/bootstrap-controller",
    "/readyz/poststarthook/crd-informer-synced",
    "/readyz/poststarthook/generic-apiserver-start-informers",
    "/readyz/poststarthook/kube-apiserver-autoregistration",
    "/readyz/poststarthook/priority-and-fairness-config-consumer",
    "/readyz/poststarthook/priority-and-fairness-config-producer",
    "/readyz/poststarthook/priority-and-fairness-filter",
    "/readyz/poststarthook/rbac/bootstrap-roles",
    "/readyz/poststarthook/scheduling/bootstrap-system-priority-classes",
    "/readyz/poststarthook/start-apiextensions-controllers",
    "/readyz/poststarthook/start-apiextensions-informers",
    "/readyz/poststarthook/start-cluster-authentication-info-controller",
    "/readyz/poststarthook/start-deprecated-kube-apiserver-identity-lease-garbage-collector",
    "/readyz/poststarthook/start-kube-aggregator-informers",
    "/readyz/poststarthook/start-kube-apiserver-admission-initializer",
    "/readyz/poststarthook/start-kube-apiserver-identity-lease-controller",
    "/readyz/poststarthook/start-kube-apiserver-identity-lease-garbage-collector",
    "/readyz/poststarthook/start-legacy-token-tracking-controller",
    "/readyz/poststarthook/start-system-namespaces-controller",
    "/readyz/poststarthook/storage-object-count-tracker-hook",
    "/readyz/shutdown",
    "/version"
  ]
}

/* curl http://localhost:8001/api/v1/namespaces/default/pods/kubernetes-bootcamp-855d5cc575-hrvgt */
{
  "kind": "Pod",
  "apiVersion": "v1",
  "metadata": {
    "name": "kubernetes-bootcamp-855d5cc575-hrvgt",
    "generateName": "kubernetes-bootcamp-855d5cc575-",
    "namespace": "default",
    "uid": "7f9297b0-05e8-4123-886c-bc1857f59021",
    "resourceVersion": "17960",
    "creationTimestamp": "2023-10-01T15:37:40Z",
    "labels": {
      "app": "kubernetes-bootcamp",
      "pod-template-hash": "855d5cc575"
    },
    "ownerReferences": [
      {
        "apiVersion": "apps/v1",
        "kind": "ReplicaSet",
        "name": "kubernetes-bootcamp-855d5cc575",
        "uid": "78c54966-b274-43b6-8029-3aa32d4882bc",
        "controller": true,
        "blockOwnerDeletion": true
      }
    ],
    "managedFields": [
      {
        "manager": "kube-controller-manager",
        "operation": "Update",
        "apiVersion": "v1",
        "time": "2023-10-01T15:37:40Z",
        "fieldsType": "FieldsV1",
        "fieldsV1": {
          "f:metadata": {
            "f:generateName": {},
            "f:labels": {
              ".": {},
              "f:app": {},
              "f:pod-template-hash": {}
            },
            "f:ownerReferences": {
              ".": {},
              "k:{\"uid\":\"78c54966-b274-43b6-8029-3aa32d4882bc\"}": {}
            }
          },
          "f:spec": {
            "f:containers": {
              "k:{\"name\":\"kubernetes-bootcamp\"}": {
                ".": {},
                "f:image": {},
                "f:imagePullPolicy": {},
                "f:name": {},
                "f:resources": {},
                "f:terminationMessagePath": {},
                "f:terminationMessagePolicy": {}
              }
            },
            "f:dnsPolicy": {},
            "f:enableServiceLinks": {},
            "f:restartPolicy": {},
            "f:schedulerName": {},
            "f:securityContext": {},
            "f:terminationGracePeriodSeconds": {}
          }
        }
      },
      {
        "manager": "kubelet",
        "operation": "Update",
        "apiVersion": "v1",
        "time": "2023-10-01T15:37:47Z",
        "fieldsType": "FieldsV1",
        "fieldsV1": {
          "f:status": {
            "f:conditions": {
              "k:{\"type\":\"ContainersReady\"}": {
                ".": {},
                "f:lastProbeTime": {},
                "f:lastTransitionTime": {},
                "f:status": {},
                "f:type": {}
              },
              "k:{\"type\":\"Initialized\"}": {
                ".": {},
                "f:lastProbeTime": {},
                "f:lastTransitionTime": {},
                "f:status": {},
                "f:type": {}
              },
              "k:{\"type\":\"Ready\"}": {
                ".": {},
                "f:lastProbeTime": {},
                "f:lastTransitionTime": {},
                "f:status": {},
                "f:type": {}
              }
            },
            "f:containerStatuses": {},
            "f:hostIP": {},
            "f:phase": {},
            "f:podIP": {},
            "f:podIPs": {
              ".": {},
              "k:{\"ip\":\"10.244.0.7\"}": {
                ".": {},
                "f:ip": {}
              }
            },
            "f:startTime": {}
          }
        },
        "subresource": "status"
      }
    ]
  },
  "spec": {
    "volumes": [
      {
        "name": "kube-api-access-xlqnw",
        "projected": {
          "sources": [
            {
              "serviceAccountToken": {
                "expirationSeconds": 3607,
                "path": "token"
              }
            },
            {
              "configMap": {
                "name": "kube-root-ca.crt",
                "items": [
                  {
                    "key": "ca.crt",
                    "path": "ca.crt"
                  }
                ]
              }
            },
            {
              "downwardAPI": {
                "items": [
                  {
                    "path": "namespace",
                    "fieldRef": {
                      "apiVersion": "v1",
                      "fieldPath": "metadata.namespace"
                    }
                  }
                ]
              }
            }
          ],
          "defaultMode": 420
        }
      }
    ],
    "containers": [
      {
        "name": "kubernetes-bootcamp",
        "image": "gcr.io/google-samples/kubernetes-bootcamp:v1",
        "resources": {},
        "volumeMounts": [
          {
            "name": "kube-api-access-xlqnw",
            "readOnly": true,
            "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"
          }
        ],
        "terminationMessagePath": "/dev/termination-log",
        "terminationMessagePolicy": "File",
        "imagePullPolicy": "IfNotPresent"
      }
    ],
    "restartPolicy": "Always",
    "terminationGracePeriodSeconds": 30,
    "dnsPolicy": "ClusterFirst",
    "serviceAccountName": "default",
    "serviceAccount": "default",
    "nodeName": "minikube",
    "securityContext": {},
    "schedulerName": "default-scheduler",
    "tolerations": [
      {
        "key": "node.kubernetes.io/not-ready",
        "operator": "Exists",
        "effect": "NoExecute",
        "tolerationSeconds": 300
      },
      {
        "key": "node.kubernetes.io/unreachable",
        "operator": "Exists",
        "effect": "NoExecute",
        "tolerationSeconds": 300
      }
    ],
    "priority": 0,
    "enableServiceLinks": true,
    "preemptionPolicy": "PreemptLowerPriority"
  },
  "status": {
    "phase": "Running",
    "conditions": [
      {
        "type": "Initialized",
        "status": "True",
        "lastProbeTime": null,
        "lastTransitionTime": "2023-10-01T15:37:40Z"
      },
      {
        "type": "Ready",
        "status": "True",
        "lastProbeTime": null,
        "lastTransitionTime": "2023-10-01T15:37:47Z"
      },
      {
        "type": "ContainersReady",
        "status": "True",
        "lastProbeTime": null,
        "lastTransitionTime": "2023-10-01T15:37:47Z"
      },
      {
        "type": "PodScheduled",
        "status": "True",
        "lastProbeTime": null,
        "lastTransitionTime": "2023-10-01T15:37:40Z"
      }
    ],
    "hostIP": "192.168.49.2",
    "podIP": "10.244.0.7",
    "podIPs": [
      {
        "ip": "10.244.0.7"
      }
    ],
    "startTime": "2023-10-01T15:37:40Z",
    "containerStatuses": [
      {
        "name": "kubernetes-bootcamp",
        "state": {
          "running": {
            "startedAt": "2023-10-01T15:37:47Z"
          }
        },
        "lastState": {},
        "ready": true,
        "restartCount": 0,
        "image": "gcr.io/google-samples/kubernetes-bootcamp:v1",
        "imageID": "docker-pullable://gcr.io/google-samples/kubernetes-bootcamp@sha256:0d6b8ee63bb57c5f5b6156f446b3bc3b3c143d233037f3a2f00e279c8fcc64af",
        "containerID": "docker://89e9026b08ed5eceb5dc235d76ec96cf91fad0bf8bedaeac35fbd6ffd11613e8",
        "started": true
      }
    ],
    "qosClass": "BestEffort"
  }
}                                                                                                                                                                
/* kubectl describe services/kubernetes */
Name:              kubernetes
Namespace:         default
Labels:            component=apiserver
                   provider=kubernetes
Annotations:       <none>
Selector:          <none>
Type:              ClusterIP
IP Family Policy:  SingleStack
IP Families:       IPv4
IP:                10.96.0.1
IPs:               10.96.0.1
Port:              https  443/TCP
TargetPort:        8443/TCP
Endpoints:         192.168.49.2:8443
Session Affinity:  None
Events:            <none>

/* minikube ip */
192.168.49.2

/* kubectl expose deployment/kubernetes-bootcamp --type="NodePort" --port 8080 */
service/kubernetes-bootcamp exposed

/* kubectl describe services/kubernetes-bootcamp */
Name:                     kubernetes-bootcamp
Namespace:                default
Labels:                   app=kubernetes-bootcamp
Annotations:              <none>
Selector:                 app=kubernetes-bootcamp
Type:                     NodePort
IP Family Policy:         SingleStack
IP Families:              IPv4
IP:                       10.107.171.21
IPs:                      10.107.171.21
Port:                     <unset>  8080/TCP
TargetPort:               8080/TCP
NodePort:                 <unset>  30444/TCP
Endpoints:                10.244.0.7:8080
Session Affinity:         None
External Traffic Policy:  Cluster
Events:                   <none>

/* kubectl get services/kubernetes-bootcamp -o go-template='{{(index .spec.ports 0).nodePort}}' */
30444%
/* minikube service kubernetes-bootcamp --url*/
http://127.0.0.1:53668
curl http://127.0.0.1:53668
Hello Kubernetes bootcamp! | Running on: kubernetes-bootcamp-855d5cc575-hrvgt | v=1

/* kubectl describe deployments/kubernetes-bootcamp */
Name:                   kubernetes-bootcamp
Namespace:              default
CreationTimestamp:      Sun, 01 Oct 2023 10:37:40 -0500
Labels:                 app=kubernetes-bootcamp
Annotations:            deployment.kubernetes.io/revision: 1
Selector:               app=kubernetes-bootcamp
Replicas:               1 desired | 1 updated | 1 total | 1 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  app=kubernetes-bootcamp
  Containers:
   kubernetes-bootcamp:
    Image:        gcr.io/google-samples/kubernetes-bootcamp:v1
    Port:         <none>
    Host Port:    <none>
    Environment:  <none>
    Mounts:       <none>
  Volumes:        <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  <none>
NewReplicaSet:   kubernetes-bootcamp-855d5cc575 (1/1 replicas created)
Events:
  Type    Reason             Age   From                   Message
  ----    ------             ----  ----                   -------
  Normal  ScalingReplicaSet  26m   deployment-controller  Scaled up replica set kubernetes-bootcamp-855d5cc575 to 1

/* minikube addons list*/
|-----------------------------|----------|--------------|--------------------------------|
|         ADDON NAME          | PROFILE  |    STATUS    |           MAINTAINER           |
|-----------------------------|----------|--------------|--------------------------------|
| ambassador                  | minikube | disabled     | 3rd party (Ambassador)         |
| auto-pause                  | minikube | disabled     | minikube                       |
| cloud-spanner               | minikube | disabled     | Google                         |
| csi-hostpath-driver         | minikube | disabled     | Kubernetes                     |
| dashboard                   | minikube | enabled ‚úÖ   | Kubernetes                     |
| default-storageclass        | minikube | enabled ‚úÖ   | Kubernetes                     |
| efk                         | minikube | disabled     | 3rd party (Elastic)            |
| freshpod                    | minikube | disabled     | Google                         |
| gcp-auth                    | minikube | disabled     | Google                         |
| gvisor                      | minikube | disabled     | minikube                       |
| headlamp                    | minikube | disabled     | 3rd party (kinvolk.io)         |
| helm-tiller                 | minikube | disabled     | 3rd party (Helm)               |
| inaccel                     | minikube | disabled     | 3rd party (InAccel             |
|                             |          |              | [info@inaccel.com])            |
| ingress                     | minikube | disabled     | Kubernetes                     |
| ingress-dns                 | minikube | disabled     | minikube                       |
| inspektor-gadget            | minikube | disabled     | 3rd party                      |
|                             |          |              | (inspektor-gadget.io)          |
| istio                       | minikube | disabled     | 3rd party (Istio)              |
| istio-provisioner           | minikube | disabled     | 3rd party (Istio)              |
| kong                        | minikube | disabled     | 3rd party (Kong HQ)            |
| kubevirt                    | minikube | disabled     | 3rd party (KubeVirt)           |
| logviewer                   | minikube | disabled     | 3rd party (unknown)            |
| metallb                     | minikube | disabled     | 3rd party (MetalLB)            |
| metrics-server              | minikube | disabled     | Kubernetes                     |
| nvidia-driver-installer     | minikube | disabled     | 3rd party (Nvidia)             |
| nvidia-gpu-device-plugin    | minikube | disabled     | 3rd party (Nvidia)             |
| olm                         | minikube | disabled     | 3rd party (Operator Framework) |
| pod-security-policy         | minikube | disabled     | 3rd party (unknown)            |
| portainer                   | minikube | disabled     | 3rd party (Portainer.io)       |
| registry                    | minikube | disabled     | minikube                       |
| registry-aliases            | minikube | disabled     | 3rd party (unknown)            |
| registry-creds              | minikube | disabled     | 3rd party (UPMC Enterprises)   |
| storage-provisioner         | minikube | enabled ‚úÖ   | minikube                       |
| storage-provisioner-gluster | minikube | disabled     | 3rd party (Gluster)            |
| volumesnapshots             | minikube | disabled     | Kubernetes                     |
|-----------------------------|----------|--------------|--------------------------------|

/* kubectl create deployment hello-node --image=registry.k8s.io/e2e-test-images/agnhost:2.39 -- /agnhost netexec --http-port=8080 */
deployment.apps/hello-node created

/*kubectl get deployments*/
NAME                  READY   UP-TO-DATE   AVAILABLE   AGE
hello-node            1/1     1            1           45s
kubernetes-bootcamp   1/1     1            1           53m

/* kubectl get pods */
hello-node-7579565d66-ctm5v            1/1     Running            0                91s
kubernetes-bootcamp-855d5cc575-hrvgt   1/1     Running            0                53m
my-app                                 1/1     Running            0                10h
nginx-2                                1/2     CrashLoopBackOff   25 (4m11s ago)   129m

/* kubectl get events */
LAST SEEN   TYPE      REASON              OBJECT                                      MESSAGE
3m11s       Normal    Scheduled           pod/hello-node-7579565d66-ctm5v             Successfully assigned default/hello-node-7579565d66-ctm5v to minikube
3m10s       Normal    Pulling             pod/hello-node-7579565d66-ctm5v             Pulling image "registry.k8s.io/e2e-test-images/agnhost:2.39"
2m58s       Normal    Pulled              pod/hello-node-7579565d66-ctm5v             Successfully pulled image "registry.k8s.io/e2e-test-images/agnhost:2.39" in 11.686878214s (11.686887589s including waiting)
2m58s       Normal    Created             pod/hello-node-7579565d66-ctm5v             Created container agnhost
2m58s       Normal    Started             pod/hello-node-7579565d66-ctm5v             Started container agnhost
3m11s       Normal    SuccessfulCreate    replicaset/hello-node-7579565d66            Created pod: hello-node-7579565d66-ctm5v
3m11s       Normal    ScalingReplicaSet   deployment/hello-node                       Scaled up replica set hello-node-7579565d66 to 1
55m         Normal    Scheduled           pod/kubernetes-bootcamp-855d5cc575-hrvgt    Successfully assigned default/kubernetes-bootcamp-855d5cc575-hrvgt to minikube
55m         Normal    Pulling             pod/kubernetes-bootcamp-855d5cc575-hrvgt    Pulling image "gcr.io/google-samples/kubernetes-bootcamp:v1"
55m         Normal    Pulled              pod/kubernetes-bootcamp-855d5cc575-hrvgt    Successfully pulled image "gcr.io/google-samples/kubernetes-bootcamp:v1" in 6.657125003s (6.657133669s including waiting)
55m         Normal    Created             pod/kubernetes-bootcamp-855d5cc575-hrvgt    Created container kubernetes-bootcamp
55m         Normal    Started             pod/kubernetes-bootcamp-855d5cc575-hrvgt    Started container kubernetes-bootcamp
55m         Normal    SuccessfulCreate    replicaset/kubernetes-bootcamp-855d5cc575   Created pod: kubernetes-bootcamp-855d5cc575-hrvgt
55m         Normal    ScalingReplicaSet   deployment/kubernetes-bootcamp              Scaled up replica set kubernetes-bootcamp-855d5cc575 to 1
43s         Normal    Pulling             pod/nginx-2                                 Pulling image "busybox"
5m39s       Warning   BackOff             pod/nginx-2                                 Back-off restarting failed container busybox in pod nginx-2_default(3c06bc7f-36ce-4b33-ad14-08f9f6fac044)

/* kubectl config view *
apiVersion: v1
clusters:
- cluster:
    certificate-authority: /Users/gurubrahmanadamekambaram/.minikube/ca.crt
    extensions:
    - extension:
        last-update: Sat, 30 Sep 2023 16:39:07 CDT
        provider: minikube.sigs.k8s.io
        version: v1.31.2
      name: cluster_info
    server: https://127.0.0.1:64506
  name: minikube
contexts:
- context:
    cluster: minikube
    extensions:
    - extension:
        last-update: Sat, 30 Sep 2023 16:39:07 CDT
        provider: minikube.sigs.k8s.io
        version: v1.31.2
      name: context_info
    namespace: default
    user: minikube
  name: minikube
current-context: minikube
kind: Config
preferences: {}
users:
- name: minikube
  user:
    client-certificate: /Users/gurubrahmanadamekambaram/.minikube/profiles/minikube/client.crt
    client-key: /Users/gurubrahmanadamekambaram/.minikube/profiles/minikube/client.key
/* kubectl expose deployment hello-node --type=LoadBalancer --port=8080 */
service/hello-node exposed
/* kubectl get services */
NAME                  TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE
hello-node            LoadBalancer   10.105.194.75   <pending>     8080:32008/TCP   6s
kubernetes            ClusterIP      10.96.0.1       <none>        443/TCP          19h
kubernetes-bootcamp   NodePort       10.107.171.21   <none>        8080:30444/TCP   47m

/* minikube service hello-node */
|-----------|------------|-------------|---------------------------|
| NAMESPACE |    NAME    | TARGET PORT |            URL            |
|-----------|------------|-------------|---------------------------|
| default   | hello-node |        8080 | http://192.168.49.2:32008 |
|-----------|------------|-------------|---------------------------|
üèÉ  Starting tunnel for service hello-node.
|-----------|------------|-------------|------------------------|
| NAMESPACE |    NAME    | TARGET PORT |          URL           |
|-----------|------------|-------------|------------------------|
| default   | hello-node |             | http://127.0.0.1:54354 |
|-----------|------------|-------------|------------------------|
üéâ  Opening service default/hello-node in default browser...
‚ùó  Because you are using a Docker driver on darwin, the terminal needs to be open to run it.

/* kubectl exec -ti hello-node-7579565d66-ctm5v -- bash */

